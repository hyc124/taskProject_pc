(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2abdaa9b"],{"37fc":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAABuElEQVRYR8XWu0sDMRwH8G86OFUUXXwMull6Di4FNx+IDk5OTkJFZ3HzPxBdHa2lOhYE7SqiuBU6FxQHcWidlGI7dTCSO1qv3iP5JXdclsBd8svn8vjlGCIo/NxaQIrfAGyWGK6FH6wwYidPcweARwCjWrE4rxghjAFCzfGkjYgEYIJQAozNAZM54PMZ+HoBum3/1dKZCSkgPQWsnQHjmb9Bu99A9RR4rXghVIQUMDQMbF0D6Wn/r74/AN4fBt9REFKACG3tAItHwYek0wDKG3oIJYAIvVkCJnLhJ7U4T0coA+JCkABKy9EEyuvqM0EGiNBiY27fObVfoWxMLUBvUJEflo4BUfeKyBHVE/UjagRwf/3MqpMr2g3gowZ0mmrJKjIA5SZj2O3fHYkAgCu2X8/biCQBYnyWNMBBXGTfNP6IKKv+v629BO6HjBeyLTA2YhKV0NcDcGaiaOXBUSIE0m3qC7AR9saMHxII6CNihoQCBhAxQaQADyJiiBLAFxERRBkQiDCEkAChCE0IGSBFECFaACWEIkQboIyQQIwAJEQAxBhARtiQQmYZSB0ixW7ZXv1S9yJx9/sFNYTW7RteHN4AAAAASUVORK5CYII="},"38fb":function(e,t,s){},4045:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAABxElEQVQ4T5VSv2sUYRB98+1eQIhWESzF6rhdOAL6B1wVCwULBYPs6mIsxObs5PYOPtGcAe3kCquT3YAWWtkERFKa0uCuZyDpUsQfxaEpzr1vv5FdjOwdK4dTzntvZt7MEEpidRAskaYVMOZZYGP8Za8nG1JNU2k60R2sXwfry8xpR8A8BHBNM1d9212eLY6DQYKf56R1JxPmsRqHISvVa9e9rWKBic4y7p+aI/NFq+Y0iqSHUdAkwtC33Of/FGdAN+v8NV2UDW/0X51z8afgpta4ZILaSoghsb5BhGqr5sz2nHuMgqsgNME4BtCr8be9RzO3vbYT1rXCGjMvCBJRVkiztoloPzVwr1N1dko9Z+My0wqgbvuW92FiYR+DsyToKTOetG3n9RGWb/vPUzQT/LgycaLtwB6bNJKWsyvj3nyFj1/wbfflX7HclGbl5Jn3Y0ovSss7OALys8HsJ4lalovesOwT6UHcP2+QsdSquXeLhG4UbgK8BYjPWZ6IT08V2KVuHD5OgXcdy9mYEMfrb8E6YsI2gQ9TLb4XcYPVQS5OgGeZryKYeZzjE29+pSPnfv3WfunYZcmi74oyFvy6m59tOn4DPTzMiaBpVWsAAAAASUVORK5CYII="},"857c":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"task-detail add-task"},[e.subTaskWindowShow?a("div",[a("sub-task-module",{attrs:{"page-type":e.subPageType,"sub-data":e.subTaskDataBack,"page-role":e.form.taskRole,"show-sub":e.subTaskWindowShow},on:{"update:showSub":function(t){e.subTaskWindowShow=t},"update:show-sub":function(t){e.subTaskWindowShow=t}}})],1):a("div",[a("header",{staticClass:"page-header"},[a("span",{staticClass:"page-title"},[e._v("任务详情")]),a("div",{staticStyle:{float:"right",position:"relative"},attrs:{id:"optionBtn"}},[a("a-button",{on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")]),e.btnDrafts?a("a-button",{staticClass:"btn-drafts",attrs:{type:"button"},on:{click:function(t){return e.goEditTask()}}},[e._v("编辑")]):e._e(),e.btnDrafts?a("a-button",{staticClass:"btn-drafts",attrs:{type:"button"},on:{click:function(t){e.startTaskWindow=!0}}},[e._v("立即开始 ")]):e._e(),e.btnDrafts?a("a-button",{staticClass:"btn-drafts",attrs:{type:"primary"},on:{click:e.delTask}},[e._v("删除")]):e._e(),e.btnFinished?a("a-button",{staticClass:"btn-finished",attrs:{type:"primary"},on:{click:function(t){return e.seeTaskFile()}}},[e._v("查看任务文件 ")]):e._e(),e.btnExecutingDo&&e.btnIsAllowTransfer&&e.btnIsStart?a("a-button",{staticClass:"btn-executing-do isAllowTransfer",attrs:{type:"button"},on:{click:function(t){e.transferWindow=!0}}},[e._v("任务转办 ")]):e._e(),e.btnExecutingDo&&e.btnIsStart?a("a-button",{staticClass:"btn-executing-do",attrs:{type:"primary"},on:{click:function(t){return e.openUpdatePregress(0,e.taskId,0)}}},[e._v("更新进度 ")]):e._e(),e.btnExecutingStart?a("a-button",{staticClass:"btn-executing-start",attrs:{type:"button"},on:{click:function(t){return e.goEditTask()}}},[e._v(" 编辑 ")]):e._e(),e.btnExecutingStart&&e.btnIsStart?a("a-button",{staticClass:"btn-executing-start",attrs:{type:"primary"},on:{click:e.urgingTask}},[e._v(" 催办 ")]):e._e(),e.btnExecutingStart?a("a-button",{staticClass:"btn-executing-start",attrs:{type:"button"},on:{click:function(t){e.finishTaskWindow=!0}}},[e._v("结束 ")]):e._e()],1)]),a("div",{staticClass:"split-box split-box-thin"}),a("div",{staticClass:"add-task-content"},[a("a-form-model",{ref:"ruleForm",attrs:{model:e.form,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("p",{staticClass:"section-title"},[e._v("任务内容")]),a("a-form-model-item",{attrs:{label:" "}},[0===e.form.level?a("div",{staticClass:"task-level"},[a("img",{staticClass:"tag-img",attrs:{src:s("a0f1"),alt:""}}),a("span",{staticClass:"status-text blue"},[e._v("普通")])]):1===e.form.level?a("div",{staticClass:"task-level"},[a("img",{staticClass:"tag-img",attrs:{src:s("37fc"),alt:""}}),a("span",{staticClass:"status-text orange"},[e._v("紧急")])]):a("div",{staticClass:"task-level"},[a("img",{staticClass:"tag-img",attrs:{src:s("e60e"),alt:""}}),a("span",{staticClass:"status-text red"},[e._v("非常紧急")])]),a("span",{staticClass:"task-name"},[e._v(e._s(e.form.name))])]),a("a-form-model-item",{attrs:{label:"任务内容"}},[a("div",{staticClass:"task-describe",domProps:{innerHTML:e._s(e.form.content)}})]),a("a-form-model-item",{attrs:{label:"进度"}},[a("div",{staticClass:"progress-box",class:100==e.form.progress?"barGreen":0==e.form.progress?"barGrey":"barBlue"},[a("div",{staticClass:"progress-bar",style:{width:e.form.progress+"%"}}),a("span",{staticClass:"progress-text"},[e._v(e._s(e.form.progress+"%"))])])]),a("div",{staticClass:"split-box"}),a("p",{staticClass:"section-title"},[e._v("任务安排")]),a("a-form-model-item",{attrs:{label:"发起人"}},[a("img",{staticClass:"label-icon",attrs:{src:s("dadd"),alt:""}}),a("div",{staticClass:"people-list-box",attrs:{id:"promoter"},on:{click:e.openInfo}},[a("span",{staticClass:"copy-people"},[e._v(e._s(e.form.addUserName))])])]),a("a-form-model-item",{attrs:{label:"接收人"}},[a("img",{staticClass:"label-icon",attrs:{src:s("4045"),alt:""}}),a("div",{staticClass:"people-list-box",attrs:{id:"receiver",title:"点击选择人员"},on:{click:function(t){e.urgingShow=!0,e.dataType=1,e.preview=!0}}},[a("span",{staticClass:"copy-people"},[e._v(e._s(e.reciveUserText))]),a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"},{name:"model",rawName:"v-model",value:e.form.receiveId,expression:"form.receiveId"}],attrs:{type:"text"},domProps:{value:e.form.receiveId},on:{input:function(t){t.target.composing||e.$set(e.form,"receiveId",t.target.value)}}}),a("a-icon",{attrs:{type:"right"}}),a("span",{staticClass:"copy-people-count"},[e._v("（"+e._s(e.reciveUsrList.length)+"人）")])],1)]),a("a-form-model-item",{attrs:{label:"抄送人"}},[a("img",{staticClass:"label-icon",attrs:{src:s("ca57"),alt:""}}),a("div",{staticClass:"people-list-box",attrs:{id:"cc",title:"点击选择人员"},on:{click:function(t){e.urgingShow=!0,e.dataType=2,e.preview=!0}}},[a("span",{staticClass:"copy-people"},[e._v(e._s(e.ccUserText))]),a("a-icon",{attrs:{type:"right"}}),a("span",{staticClass:"copy-people-count"},[e._v("（"+e._s(e.ccUserList.length)+"人）")])],1)]),a("a-form-model-item",{attrs:{label:"任务时间"}},[a("a-form-model-item",{attrs:{prop:"startTime"}},[a("a-date-picker",{attrs:{value:e.form.startTime,allowClear:!1,inputReadOnly:!0,format:"YYYY-MM-DD HH:mm",open:!1,placeholder:"开始时间"}})],1),a("span",{staticStyle:{margin:"0 20px"}},[e._v("-")]),a("a-form-model-item",[a("a-date-picker",{attrs:{value:e.form.endTime,open:!1,allowClear:!1,inputReadOnly:!0,format:"YYYY-MM-DD HH:mm",placeholder:"结束时间"}})],1)],1),a("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:e.form.fileArr.length>0,expression:"form.fileArr.length > 0"}],attrs:{label:"附件"}},[a("img",{staticClass:"label-icon-upload icon-img",attrs:{src:s("0d6d"),alt:""}}),a("file-list-module",{ref:"fileList",attrs:{optionType:e.optionType,"is-cc":2==e.form.taskRole,"file-arr":e.form.fileArr},on:{data:e.getFileList}})],1)],1),e.form.subTask.length>0?a("div",{staticClass:"split-box"}):e._e(),e.form.subTask.length>0?a("div",{staticClass:"section-title"},[e._v("子任务")]):e._e(),a("ul",{staticClass:"subTask-list"},e._l(e.form.subTask,(function(t,s){return a("li",{key:s,staticClass:"subTask-li",attrs:{title:"点击查看详情"},on:{click:function(s){return e.goSubTaskDetacil(t.id,t.pid)}}},[a("div",{staticClass:"subTask-name clear-fix"},[a("p",{staticClass:"left"},[e._v(" "+e._s(s+1+". "+t.title)+" "),a("span",{staticClass:"file-status",class:t.statusClass},[e._v(e._s(t.statusName))])]),a("p",{staticClass:"right"},[a("a-icon",{staticClass:"go-sub-task-icon",attrs:{type:"right"}})],1)]),a("div",{staticClass:"subTask-describe",attrs:{title:"点击查看详情"},domProps:{innerHTML:e._s(t.content)}}),a("div",{staticClass:"list-icon",attrs:{title:"点击查看详情"}},[a("i",{staticClass:"iconfont"},[e._v("")]),a("span",{staticClass:"list-count"},[e._v(e._s(t.file_url.length?t.file_url.length:0))])])])})),0),a("div",{staticClass:"split-box"}),a("schedule-list-module",{ref:"taskSchedule",attrs:{id:parseInt(e.taskId),pid:0,"is-cc":2==e.form.taskRole}})],1),a("pick-user",{attrs:{show:e.ccUserShow,"selected-user":e.ccUserList,"is-look":!0},on:{"update:show":function(t){e.ccUserShow=t}}}),a("pick-user",{attrs:{show:e.reciveUserShow,"selected-user":e.reciveUsrList,"is-look":!0},on:{"update:show":function(t){e.reciveUserShow=t}}}),a("a-modal",{attrs:{title:e.modalUpTitle,visible:e.modalUpShow,"confirm-loading":e.confirmUpLoading,centered:!0,destroyOnClose:!0},on:{ok:e.modalUpSure,cancel:function(t){e.modalUpShow=!1}}},[a("div",{staticClass:"plan-file-window clear-fix"},[a("div",{staticClass:"upload-annex"},[a("img",{staticClass:"icon-img",attrs:{src:s("0d6d"),alt:""}}),a("span",{staticClass:"label"},[e._v("附件")])])]),a("div",{staticClass:"upload-box-window"},[a("upload-drag",{ref:"upload",attrs:{"default-file-list":e.form.fileArr}})],1)]),a("a-modal",{attrs:{title:"结束任务",visible:e.finishTaskWindow,"confirm-loading":e.confirmUpLoading,centered:!0,destroyOnClose:!0},on:{ok:e.finishTask,cancel:function(t){e.finishTaskWindow=!1}}},[a("div",{staticClass:"end-content"},[a("p",{staticClass:"start-title"},[e._v("结束方式：")]),a("div",{staticClass:"end-radio"},[a("a-radio-group",{model:{value:e.finishType,callback:function(t){e.finishType=t},expression:"finishType"}},[a("a-radio",{attrs:{value:"complete"}},[e._v("任务完成")]),a("a-radio",{attrs:{value:"cancel"}},[e._v("任务取消")])],1)],1)])]),a("urging-module",{attrs:{show:e.urgingShow,user:e.urgingUser,"data-type":e.dataType,id:e.form.id,is_recovery:e.isRecovery,preview:e.preview},on:{"update:show":function(t){e.urgingShow=t}}}),a("a-modal",{attrs:{title:"开始任务",visible:e.startTaskWindow,"confirm-loading":e.confirmUpLoading,centered:!0,destroyOnClose:!0},on:{ok:e.startTask,cancel:function(t){e.startTaskWindow=!1}}},[a("div",{staticClass:"end-content"},[a("p",{staticClass:"start-title"},[e._v("结束方式：")]),a("div",{staticClass:"end-radio"},[a("a-radio-group",{model:{value:e.startType,callback:function(t){e.startType=t},expression:"startType"}},[a("a-radio",{attrs:{value:"rightNow"}},[e._v("立即开始")]),a("a-radio",{attrs:{value:"timing"}},[e._v("定时开始")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"timing"==e.startType,expression:"startType == 'timing'"}],staticClass:"start-timing"},[a("div",{staticClass:"time-box"},[a("span",{staticClass:"start-title "},[e._v("开始时间：")]),a("a-date-picker",{attrs:{allowClear:!1,"disabled-date":e.disabledStartDate,inputReadOnly:!0,"show-time":{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",placeholder:"开始时间"},on:{change:e.stratTimeChange},model:{value:e.startTime.begin,callback:function(t){e.$set(e.startTime,"begin",t)},expression:"startTime.begin"}})],1),a("div",{staticClass:"time-box"},[a("span",{staticClass:"start-title"},[e._v("结束时间：")]),a("a-date-picker",{attrs:{allowClear:!1,"disabled-date":e.disabledEndDate,inputReadOnly:!0,"show-time":{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",placeholder:"结束时间"},on:{change:e.endTimeChange},model:{value:e.startTime.end,callback:function(t){e.$set(e.startTime,"end",t)},expression:"startTime.end"}})],1)])])]),a("pick-user",{attrs:{show:e.transferWindow,radio:!0,"filter-data":e.updateUserFilter},on:{"update:show":function(t){e.transferWindow=t},done:e.sureTransfer}})],1),a("update-progress",{attrs:{show:e.updateWindow,"update-form":e.updateForm,"filter-people":e.updateUserFilter},on:{"update:show":function(t){e.updateWindow=t},done:e.sureUpdateProgress}})],1)},r=[],i=(s("99af"),s("4160"),s("a15b"),s("b0c0"),s("ac1f"),s("1276"),s("159b"),s("96cf"),s("1da1")),n=s("365c"),o=s("c1df"),c=s.n(o),l=s("ee99"),u=s("f1a8"),d=s("adc3"),m=s("c283"),p=s("de60"),f=s("c63a"),g=s("3e87"),A=s("1697"),h=s("e96b"),v={name:"taskDetail",components:{UpdateProgress:A["a"],SubTaskModule:g["a"],UrgingModule:f["a"],UploadDrag:p["a"],FileListModule:m["a"],AFormModelItem:l["a"],scheduleListModule:u["a"],pickUser:d["a"]},data:function(){return{taskId:this.$route.query.id,pageType:this.$route.query.pageType,labelCol:{span:2},wrapperCol:{span:16},form:{level:0,name:"",content:"",progress:0,addUserName:"",addUserId:null,startTime:null,endTime:null,fileArr:[],subTask:[],taskRole:null},ccUserShow:!1,reciveUserShow:!1,ccUserList:[],reciveUsrList:[],ccUserText:"",reciveUserText:"",ccUserId:"",receiveUserId:"",receiverDepId:"",userId:"",optionType:"detail",modalUpTitle:"上传文件",modalUpType:"add",modalUpShow:!1,confirmUpLoading:!1,submitLoading:!1,subTaskWindowShow:!1,subTaskId:null,subTaskDataBack:{},subPageType:"subTaskDetail",btnDrafts:!1,btnFinished:!1,btnExecutingDo:!1,btnExecutingStart:!1,btnIsAllowTransfer:!1,finishTaskWindow:!1,finishType:"complete",urgingShow:!1,urgingUser:[],urgingUserFilter:[],preview:!1,startTaskWindow:!1,startType:"rightNow",startTime:{begin:c()(new Date),end:c()(new Date).add(3,"days")},updateWindow:!1,updateForm:{id:null,taskId:null,finishType:0,userList:[],userId:[],fileList:[],content:"",isChild:0},updateUserFilter:[],testShow:!0,transferWindow:!1,dataType:"0",isRecovery:"recycleBin"==this.$route.query.pageType?1:0,btnIsStart:!1}},watch:{},created:function(){this.getData(),"recycleBin"==this.pageType&&(this.isRecovery=1)},methods:{moment:c.a,getData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,a,r,i,o,l,u,d,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s={id:e.taskId,look:e.$route.query.look},"recycleBin"==e.pageType&&(s.is_recovery=!0),t.next=4,n["d"].getInfo(s);case 4:a=t.sent,r=a.code,i=a.msg,o=a.data,r?(e.form.id=o.id,e.form.progress=o.completion,e.form.level=o.level,e.form.name=o.title,e.form.content=o.content,e.form.addUserName=o.username.length>0?o.username[0].name:"",e.reciveUsrList=o.receive_username,e.ccUserList=o.cc_username,e.form.fileArr=o.file_url,e.form.startTime=c()(o.start_time),e.form.endTime=c()(o.end_time),e.form.taskRole=o.role,e.form.isAllowTransfer=o.is_allow_transfer,e.userId=o.userid,e.judgeBtn(),e.getSubTask(),o.receive_username.length>0&&(l=[],o.receive_username.forEach((function(e){l.push(e.name)})),e.reciveUserText=l.join(",")),e.receiveUserId=o.receive_userid,o.cc_username.length>0&&(u=[],o.cc_username.forEach((function(e){u.push(e.name)})),e.ccUserText=u.join(",")),d=[],m=[],e.urgingUser=[],d=e.receiveUserId?e.receiveUserId.split(","):[],m=e.reciveUserText?e.reciveUserText.split(","):[],d.length>0&&d.forEach((function(t,s){var a={};a.id=t,a.name=m[s],e.urgingUser.push(a),e.updateUserFilter.push(t)})),e.updateUserFilter.push(o.userid)):(e.$message.error(i+"即将返回执行中任务列表...",2),setTimeout((function(){e.$router.push("/taskList/executing")}),2e3));case 9:case"end":return t.stop()}}),t)})))()},getSubTask:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s={pid:e.form.id},"recycleBin"==e.pageType&&(s.is_recovery=!0),t.next=4,n["d"].getSubList(s);case 4:a=t.sent,r=a.code,i=a.data,r&&(e.form.subTask=i,1===e.form.taskRole&&"drafts"!==e.pageType&&i.length>0&&e.form.subTask.forEach((function(e){1===e.completion?(e.statusName="已完成",e.statusClass="green"):(e.statusName="未完成",e.statusClass="red")})));case 8:case"end":return t.stop()}}),t)})))()},judgeBtn:function(){var e=this.pageType;"drafts"===e?this.btnDrafts=!0:"recycle"===e||("finished"===e?0===this.form.taskRole&&(this.btnFinished=!0):"executing"===e&&(0==this.form.taskRole?this.btnExecutingStart=!0:1==this.form.taskRole&&(this.btnExecutingDo=!0,1==this.form.isAllowTransfer?this.btnIsAllowTransfer=!0:this.btnIsAllowTransfer=!1))),c()(new Date).format("YYYY-MM-DD HH:mm")<c()(this.form.startTime).format("YYYY-MM-DD HH:mm")?(console.log(1),this.btnIsStart=!1):this.btnIsStart=!0},getFileList:function(e){this.form.fileArr=[].concat(e)},modalUpSure:function(){this.modalUpShow=!1,this.form.fileArr=this.$refs.upload.fileList},goEditTask:function(){this.$router.push({path:"/taskDetail/editTask",query:{id:this.form.id}})},finishTask:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,a,r,i,o,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.confirmUpLoading=!0,s={},"complete"!=e.finishType){t.next=12;break}return s={id:e.form.id,status:2},t.next=6,n["d"].complete(s);case 6:a=t.sent,r=a.code,i=a.msg,r?(e.confirmUpLoading=!1,e.$message.success(i+" 即将跳转到已结束页面...",2),setTimeout((function(){e.$router.push("/taskList/finished")}),2e3)):(e.confirmUpLoading=!1,e.$message.error(i,2)),t.next=20;break;case 12:if("cancel"!=e.finishType){t.next=20;break}return s={id:e.form.id},t.next=16,n["d"].del(s);case 16:o=t.sent,c=o.code,l=o.msg,c?(e.confirmUpLoading=!1,e.$message.success(l+" 即将跳转到回收站页面...",2),setTimeout((function(){e.$router.push("/taskList/recycleBin")}),2e3)):(e.confirmUpLoading=!1,e.$message.error(l,2));case 20:case"end":return t.stop()}}),t)})))()},urgingTask:function(){this.urgingShow=!0,this.preview=!1,this.dataType=1},seeTaskFile:function(){this.$router.push({path:"/taskDetail/seeTaskFile",query:{id:this.taskId,pageType:this.pageType}})},startTask:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,a,r,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=e,a={},a={id:s.form.id,status:1,type:1},"timing"===s.startType?(a.start_time=c()(s.startTime.begin).format("YYYY-MM-DD HH:mm"),a.end_time=c()(s.startTime.end).format("YYYY-MM-DD HH:mm")):"rightNow"===s.startType&&(a.start_time=c()(new Date).format("YYYY-MM-DD HH:mm")),!("timing"===s.startType&&a.end_time<=c()(new Date).format("YYYY-MM-DD HH:mm"))){t.next=8;break}s.$confirm({title:"任务结束时间小于现在时间，您是否确认发布一个已逾期的任务?",content:"",centered:!0,onOk:function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n["d"].complete(a);case 2:t=e.sent,r=t.code,i=t.msg,r?(s.confirmUpLoading=!1,s.$message.success(i+" 即将跳转到执行中列表...",2),setTimeout((function(){s.$router.push("/taskList/executing")}),2e3)):(s.confirmUpLoading=!1,s.$message.error(i,2));case 6:case"end":return e.stop()}}),e)})))()}}),t.next=14;break;case 8:return t.next=10,n["d"].complete(a);case 10:r=t.sent,o=r.code,l=r.msg,o?(s.confirmUpLoading=!1,s.$message.success(l+" 即将跳转到执行中列表...",2),setTimeout((function(){s.$router.push("/taskList/executing")}),2e3)):(s.confirmUpLoading=!1,s.$message.error(l,2));case 14:case"end":return t.stop()}}),t)})))()},disabledStartDate:function(e){var t=this.startTime.end;return!(!e||!t)&&e.valueOf()>=t.valueOf()},disabledEndDate:function(e){var t=this.startTime.begin;return!(!e||!t)&&t.valueOf()>=e.valueOf()},stratTimeChange:function(e){this.startTime.begin=e},endTimeChange:function(e){this.startTime.end=e},openUpdatePregress:function(e,t,s){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var i,o,c,l,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a.updateWindow=!0,i={task_id:t,task_pid:s},"recycleBin"==a.pageType&&(i.is_recovery=!0),a.updateForm.isChild=e,r.next=6,n["d"].getProgressInfo(i);case 6:o=r.sent,c=o.code,l=o.msg,u=o.data,c?(a.updateForm.id=u.id?u.id:null,a.updateForm.taskId=u.task_id?u.task_id:null,a.updateForm.finishType=u.status?u.status:0,a.updateForm.content=u.remarks?u.remarks:"",a.updateForm.fileList=u.file_url?u.file_url:[],a.updateForm.userId=u.notice_userid?u.notice_userid:[],u.notice_userid&&u.notice_userid.length>0&&u.notice_userid.forEach((function(e){a.updateForm.userId=e.userid})),a.updateForm.userList=u.notice_userid):a.$message.error(l,2);case 11:case"end":return r.stop()}}),r)})))()},sureUpdateProgress:function(e){e&&(this.$refs.taskSchedule.getSchedule(),this.getData(),this.updateWindow=!1)},sureTransfer:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,o,c,l,u;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!(e.userId&&e.userId.length>0)){s.next=17;break}if(a=[],e.user.forEach((function(e){a.push(e.name)})),r={id:t.taskId,name:a.join(),userid:e.userId.join(),dep:e.dep.join()},!(t.$refs.taskSchedule.scheduleList.length>0)){s.next=9;break}o=t,t.$confirm({title:"当前有更新任务记录，转办将删除记录，是否确定转办?",content:"",centered:!0,onOk:function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){var t,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n["d"].transfer(r);case 2:t=e.sent,s=t.code,a=t.msg,s?(o.$message.success(a,2),o.getData(),o.judgeBtn(),o.btnIsAllowTransfer=!1,o.btnExecutingDo=!1):o.$message.error(a,2);case 6:case"end":return e.stop()}}),e)})))()}}),s.next=15;break;case 9:return s.next=11,n["d"].transfer(r);case 11:c=s.sent,l=c.code,u=c.msg,l?(t.$message.success(u,2),t.getData(),t.judgeBtn(),t.btnIsAllowTransfer=!1,t.btnExecutingDo=!1):t.$message.error(u,2);case 15:s.next=18;break;case 17:t.$message.warning("未选择人员",2);case 18:case"end":return s.stop()}}),s)})))()},delTask:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=e,s.$confirm({title:"是否确定删除该任务?",content:"",centered:!0,onOk:function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s.confirmUpLoading=!0,t={},t={id:s.form.id},e.next=5,n["d"].del(t);case 5:a=e.sent,r=a.code,i=a.msg,r?(s.confirmUpLoading=!1,s.$message.success(i+" 即将返回上一页",2),setTimeout((function(){s.$router.go(-1)}),2e3)):(s.confirmUpLoading=!1,s.$message.error(i,2));case 9:case"end":return e.stop()}}),e)})))()}});case 2:case"end":return t.stop()}}),t)})))()},goSubTaskDetacil:function(e,t){var s=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,i,o,c,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s.subTaskWindowShow=!0,!e||!t){a.next=11;break}return s.subTaskId=e,r={id:e},a.next=6,n["d"].getSubInfoById(r);case 6:i=a.sent,o=i.msg,c=i.code,l=i.data,c?s.subTaskDataBack=l:s.$message.error(o,2);case 11:case"end":return a.stop()}}),a)})))()},openInfo:function(){Object(h["b"])(this.userId)}}},b=v,w=(s("879e"),s("b8d7"),s("2877")),k=Object(w["a"])(b,a,r,!1,null,"0ae451a9",null);t["default"]=k.exports},"879e":function(e,t,s){"use strict";var a=s("ac55"),r=s.n(a);r.a},a0f1:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAB1ElEQVRYR8XWPUsDMRgH8H/6olCRHtoORbBO0rE4ODnYpZOzglqtg6sInZydHfwEviFqFxV0FkFXXd1URFrbDgfSivYlkpOW1l57eXJXmuECd8mT3+VJcsfgQFlM56KeWu0cDBPEcHqFuWKM2KmtuQHgtRsAmkosznFpC2EXINAc/FYZ4QTAFkIGMK55EAkO4FUv402voFTmptlSmgkrQMDnxsaMhrDmaQwqAMePn7h7+WqDkBFWAJ+XYTs+isCQ2/Std+91PLx/tzwjIawAInJ80oel6HDHTVIoVpG6LqghZAAi8lZsBJGgt+tOXU1/0BGygJ4hKACpdJRqSF3l5WeCChCRxcLcmQsatVkhLUwVQH1QcT6sT/sh6nohb1E7gOa3nxobRFjzIl+s4in3g0KpKndYOQWgfMg442uN5PUDAPCDw4VQ0kD0EyDGZ/0GGIiV0+yzwh8RJe3/2v6loPkmS5xldQb4bUQldG0HGDORSGeSjLM9QiTFpuYAAyEuvYd0BjQQvYV0B7QgegOxBrQhnIXIAUwRzkDkAR0R9iA0QFeEGoQOsETQIGoAKYQcRB0gjegOsQcgIcwh9gFkhOiwfJKZZYxtwsUvjuZD+4ofkpZuv/TpMlawssx/AAAAAElFTkSuQmCC"},ac55:function(e,t,s){},b8d7:function(e,t,s){"use strict";var a=s("38fb"),r=s.n(a);r.a},ca57:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAABx0lEQVQ4T4VTMU8UURD+5rFe6KCwsKSgBCVAgZ0WxuYWNSdKJwUNBrNLDDHc5pJH7navIMbliBpjDDTGUBl2lwQSTfwBXoTEBEIsLCwoLK4weLfcvSF3ySW7xx68cuab75tvZh4h4S04wRPFahagfiLeCcPq8hv56F8nlDoDhh08J2Do5JQXj1CuXNfGZoVAxs3qdy4vdvyD/bA8/E3Kehts2v77hmpsruXuf4kSxJSfyu1rqZT65Gb121GQWfBMECquNbnRtbiZMBz/gML6TVc+qLSBhuP7zLRUstI/Ly7Oe2kIWARRUALHQqn5lmp2cuFSzy314naGWOWY0QPQxqqVfpm0lZhnww7uAixB+EuE78zQAIyA0c+ALFn618S2TduzmGhC1cK5teXMn9jA5OcBTl15S8yBa+mv27mWslH0HxNjei8sT0VXFCW4JaU2rI2O1+r0S8P/avNoaEau9/alrv7onHCSx2ZsvrA13iMofxpWp+iZ4z8UwI3VrJ6LtWp76yAaSCJhYBCMgEzHe6UavFvK3duJAptWBFNvtw4A9ZuMYvBCVWsfzw3JCVaYeYLAH5IIGozDcx8jpu74eVUL33UStzFnqJq+sfnD2n0AAAAASUVORK5CYII="},dadd:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAABbElEQVQ4T4XSMWhTcRDH8c+1KYg6ODg4OHYo6qDg4uYgiKCDYN5LRZAiHaUICm5WOokUce6QJbTJmwVHERcFoQ5VdHNwcHBwKRTR/OW9mJgmJbnx/7/v7+5+d+GASIV5yVPMCz+wGpnXo6kx+pBaTprzUtdSLHpfCdE0437c8G44fxzuWJN8jIZ2PzFtWlCzFpn6ZLjQ9NuTuOnzcGIqbEfm3DR4RahF3fqgcscl5JFbngYfxSuhLXmBs3joj+ux6OtEuPxMm46btSGcx45fluOWbxPdTk3HHPZIuCi8xXddC6Kq3rJrPZbs9UUGbv9byZbkeeRa+8xaVXPaiuQqrvlkzymXKzg1HXLEG113o1FVPDBSaVzZUbJRdtWDC2MOTxB4Vv5F7l4f3rbrwvA8qXDHjJ3hq0odA7ASSIUT5flF5sq+OXtXtYVGZL6Mgj247YxZt6Puwdid/xf4IPlZtjp1z2MdzMmj7vGo+F9DuHk77YHmGQAAAABJRU5ErkJggg=="},e60e:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAByElEQVRYR8XWv07CQBwH8O+dBq2aaGCEwQFW4iPgMzCT4MBCIbgxAg8BC4P6AER9AuPIysrgAiMNA9popGeuEgQp7f2uJdxySXv3u8/1d3/KEEGZlctXjLFHMHZJCSeAKRznmlE6ebWVAHD+woALrVhCPIdChAYAEMCrNiIKgPxy2ggVAE8mwTMZOKMRnPEYsG3PbGkhggAsHsdRqQSeSv0Natv46vXw3e9vQMiIIAAMA0a9DpZIeM76s9vFfDBYe0dCBAIAHOZyiOXzWzeJmExgN5t6CBWAjHxcq4Gn07479aNapSNUATtDUAASEZgOy4LdaKh/CSrAjWwYOGm13NqrkBamFmAxqjwfYoUCZL0s1C0aBrA6+4Ns1j0r5I6YD4cQlqV2WEUFoFxkwnFulnfHPgAQ4uG03S66iH0C5Phs3wAX8W6ab9Q/IkrON2+s3xSsPmcz05wyxs5DBVbtvFgD/5vLdBQZ53eqcbTbbQG46VgszN1CfABLxE4hAYA1xE4gCoANRKQQRYAnIhIIAbAVEQpCBPgitCAagEAECaIJUEIoQUIAlBG+kJAAEsITEgGAjJAd7Eol5whxK4R4Out07rXvkpWOP/95ClxXufoRAAAAAElFTkSuQmCC"}}]);